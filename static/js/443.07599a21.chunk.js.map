{"version":3,"file":"static/js/443.07599a21.chunk.js","mappings":"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","sources":["components/BackButton/BackButton.styled.js","components/BackButton/BackLink.jsx","components/MovieDetails/MovieDetails.styled.js","components/MovieDetails/MovieDetails.jsx","services/api.js"],"sourcesContent":["import { Link } from 'react-router-dom';\nimport styled from 'styled-components';\n\nexport const ButtonLink = styled(Link)`\n  display: inline-flex;\n  align-items: center;\n  gap: 4px;\n  padding: 8px 0;\n  color: black;\n  text-decoration: none;\n  font-weight: 500;\n  text-transform: uppercase;\n\n  :hover {\n    color: orangered;\n  }\n`;\n","import { HiArrowLeft } from 'react-icons/hi';\nimport { ButtonLink } from './BackButton.styled';\n\nexport const BackLink = ({ to, children }) => {\n  return (\n    <ButtonLink to={to}>\n      <HiArrowLeft size=\"24\" />\n      {children}\n    </ButtonLink>\n  );\n};\n","import styled from 'styled-components';\n\nexport const MovieInfo = styled.section`\n  display: flex;\n  justify-content: flex-start;\n  gap: 18px;\n  padding-bottom: 18px;\n  border-bottom: 2px solid #aeaeae;\n`;\n\nexport const MoviePoster = styled.div`\n  min-width: 400px;\n  margin: 0 auto;\n  padding-top: 12px;\n`;\n\nexport const MovieData = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  gap: 8px;\n`;\n\nexport const MoreInfo = styled.section`\n  padding: 18px 0;\n  border-bottom: 2px solid #aeaeae;\n`;\n\nexport const InfoItem = styled.li`\n  padding-top: 12px;\n`;\n","import { useEffect, useState, Suspense } from 'react';\nimport { useParams, useLocation } from 'react-router-dom';\nimport { Link, Outlet } from 'react-router-dom';\nimport { fetchMovieById } from 'services/api';\nimport { BackLink } from '../BackButton/BackLink';\nimport {\n  MovieInfo,\n  MoviePoster,\n  MovieData,\n  MoreInfo,\n  InfoItem,\n} from './MovieDetails.styled';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const [movie, setMovie] = useState(null);\n  const [status, setStatus] = useState('idle');\n  const [isLoading, setIsLoading] = useState(false);\n  const [backLink, setBackLink] = useState(null);\n  const location = useLocation();\n  const fallBackImg = 'https://placehold.co/400x200?text=No+poster+found';\n\n  useEffect(() => {\n    setIsLoading(true);\n    setStatus('loading');\n    fetchMovieById(movieId)\n      .then(({ data }) => {\n        setMovie(data);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }, [movieId]);\n\n  useEffect(() => {\n    if (backLink) return;\n    const backLinkHref = location.state?.from ?? '/';\n    setBackLink(backLinkHref);\n  }, [backLink, location.state?.from]);\n\n  if (status === 'idle' || isLoading) {\n    return <>Loading...</>;\n  }\n\n  if (status === 'error') {\n    return <>An error occured</>;\n  }\n\n  const genres = movie.genres;\n\n  return (\n    <>\n      <div>\n        <BackLink to={backLink}>Back</BackLink>\n        <MovieInfo>\n          <MoviePoster>\n            {movie.backdrop_path ? (\n              <img\n                src={`https://image.tmdb.org/t/p/w500${movie.backdrop_path}`}\n                alt={movie.title ?? movie.name}\n              />\n            ) : (\n              <img src={fallBackImg} alt=\"no movie found\" />\n            )}\n          </MoviePoster>\n          <MovieData>\n            <h2>{movie.title ?? movie.name}</h2>\n            <p>User score: {Math.round(movie.vote_average * 10)}%</p>\n            <h3>Overview</h3>\n            <p>{movie.overview}</p>\n            <h4>Genres</h4>\n            {genres ? (\n              <ul>\n                {genres.map(genre => (\n                  <li key={genre.id}>{genre.name}</li>\n                ))}\n              </ul>\n            ) : (\n              'No genres'\n            )}\n          </MovieData>\n        </MovieInfo>\n        <MoreInfo>\n          <h2>Additional information</h2>\n          <ul>\n            <InfoItem>\n              <Link to=\"cast\">Cast</Link>\n            </InfoItem>\n            <InfoItem>\n              <Link to=\"reviews\">Reviews</Link>\n            </InfoItem>\n          </ul>\n        </MoreInfo>\n        <Suspense fallback={<div>Loading subpage...</div>}>\n          <Outlet />\n        </Suspense>\n      </div>\n    </>\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = 'cda61bda9f0a12d6d66e74a80f877dd6';\n\nexport const fetchMoviesList = () => {\n  return axios.get(`${BASE_URL}/trending/all/day?api_key=${API_KEY}`);\n};\n\nexport const fetchMovieById = id => {\n  return axios.get(`${BASE_URL}/movie/${id}?api_key=${API_KEY}`);\n};\n\nexport const fetchMovieCastById = id => {\n  return axios.get(`${BASE_URL}/movie/${id}/credits?api_key=${API_KEY}`);\n};\n\nexport const fetchMovieReviewsById = id => {\n  return axios.get(`${BASE_URL}/movie/${id}/reviews?api_key=${API_KEY}`);\n};\n\nexport const fetchMovieByQuery = query => {\n  return axios.get(\n    `${BASE_URL}/search/movie?api_key=${API_KEY}&query=${query}`\n  );\n};\n"],"names":["ButtonLink","styled","Link","BackLink","to","children","size","MovieInfo","MoviePoster","MovieData","MoreInfo","InfoItem","movieId","useParams","useState","movie","setMovie","status","setStatus","isLoading","setIsLoading","backLink","setBackLink","location","useLocation","useEffect","fetchMovieById","then","data","finally","backLinkHref","state","from","genres","backdrop_path","src","alt","title","name","Math","round","vote_average","overview","map","genre","id","Suspense","fallback","BASE_URL","API_KEY","fetchMoviesList","axios","fetchMovieCastById","fetchMovieReviewsById","fetchMovieByQuery","query"],"sourceRoot":""}